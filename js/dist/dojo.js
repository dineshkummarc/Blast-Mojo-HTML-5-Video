if(typeof dojo=="undefined"){(function(){if(typeof this["djConfig"]=="undefined"){this.djConfig={}}if((!this["console"])||(!console.firebug)){this.console={}}var cn=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","log","profile","profileEnd","time","timeEnd","trace","warn"];var i=0,tn;while((tn=cn[i++])){if(!console[tn]){console[tn]=function(){}}}if(typeof this["dojo"]=="undefined"){this.dojo={}}var d=dojo;dojo.global=this;var _config={isDebug:false,libraryScriptUri:"",preventBackButtonFix:true,delayMozLoadingFix:false};for(var option in _config){if(typeof djConfig[option]=="undefined"){djConfig[option]=_config[option]}}var _platforms=["Browser","Rhino","Spidermonkey","Mobile"];var t;while(t=_platforms.shift()){d["is"+t]=false}dojo.locale=djConfig.locale;dojo.version={major:1,minor:0,patch:0,flag:"",revision:Number("$Rev: 11363 $".match(/[0-9]+/)[0]),toString:function(){with(d.version){return major+"."+minor+"."+patch+flag+" ("+revision+")"}}};if(typeof OpenAjax!="undefined"){OpenAjax.hub.registerLibrary("dojo","http://dojotoolkit.org",d.version.toString())}dojo._mixin=function(obj,props){var tobj={};for(var x in props){if(tobj[x]===undefined||tobj[x]!=props[x]){obj[x]=props[x]}}if(d.isIE&&props){var p=props.toString;if(typeof p=="function"&&p!=obj.toString&&p!=tobj.toString&&p!="\nfunction toString() {\n    [native code]\n}\n"){obj.toString=props.toString}}return obj};dojo.mixin=function(obj,props){for(var i=1,l=arguments.length;i<l;i++){d._mixin(obj,arguments[i])}return obj};dojo._getProp=function(parts,create,context){var obj=context||d.global;for(var i=0,p;obj&&(p=parts[i]);i++){obj=(p in obj?obj[p]:(create?obj[p]={}:undefined))}return obj};dojo.setObject=function(name,value,context){var parts=name.split("."),p=parts.pop(),obj=d._getProp(parts,true,context);return(obj&&p?(obj[p]=value):undefined)};dojo.getObject=function(name,create,context){return d._getProp(name.split("."),create,context)};dojo.exists=function(name,obj){return !!d.getObject(name,false,obj)};dojo["eval"]=function(scriptFragment){return d.global.eval?d.global.eval(scriptFragment):eval(scriptFragment)};d.deprecated=d.experimental=function(){}})();(function(){var c=dojo;dojo.mixin(dojo,{_loadedModules:{},_inFlightCount:0,_hasResource:{},_modulePrefixes:{dojo:{name:"dojo",value:"."},doh:{name:"doh",value:"../util/doh"},tests:{name:"tests",value:"tests"}},_moduleHasPrefix:function(d){var f=this._modulePrefixes;return !!(f[d]&&f[d].value)},_getModulePrefix:function(d){var f=this._modulePrefixes;if(this._moduleHasPrefix(d)){return f[d].value}return d},_loadedUrls:[],_postLoad:false,_loaders:[],_unloaders:[],_loadNotifying:false});dojo._loadPath=function(i,f,d){var g=(((i.charAt(0)=="/"||i.match(/^\w+:/)))?"":this.baseUrl)+i;if(djConfig.cacheBust&&c.isBrowser){g+="?"+String(djConfig.cacheBust).replace(/\W+/g,"")}try{return !f?this._loadUri(g,d):this._loadUriAndCheck(g,f,d)}catch(h){console.debug(h);return false}};dojo._loadUri=function(g,d){if(this._loadedUrls[g]){return true}var f=this._getText(g,true);if(!f){return false}this._loadedUrls[g]=true;this._loadedUrls.push(g);if(d){f="("+f+")"}var h=c["eval"](f+"\r\n//@ sourceURL="+g);if(d){d(h)}return true};dojo._loadUriAndCheck=function(h,f,d){var g=false;try{g=this._loadUri(h,d)}catch(i){console.debug("failed loading "+h+" with error: "+i)}return Boolean(g&&this._loadedModules[f])};dojo.loaded=function(){this._loadNotifying=true;this._postLoad=true;var f=this._loaders;this._loaders=[];for(var d=0;d<f.length;d++){f[d]()}this._loadNotifying=false;if(c._postLoad&&c._inFlightCount==0&&this._loaders.length>0){c._callLoaded()}};dojo.unloaded=function(){var d=this._unloaders;while(d.length){(d.pop())()}};dojo.addOnLoad=function(f,d){if(arguments.length==1){c._loaders.push(f)}else{if(arguments.length>1){c._loaders.push(function(){f[d]()})}}if(c._postLoad&&c._inFlightCount==0&&!c._loadNotifying){c._callLoaded()}};dojo.addOnUnload=function(f,d){if(arguments.length==1){c._unloaders.push(f)}else{if(arguments.length>1){c._unloaders.push(function(){f[d]()})}}};dojo._modulesLoaded=function(){if(c._postLoad){return}if(c._inFlightCount>0){console.debug("files still in flight!");return}c._callLoaded()};dojo._callLoaded=function(){if(typeof setTimeout=="object"||(djConfig.useXDomain&&c.isOpera)){setTimeout("dojo.loaded();",0)}else{c.loaded()}};dojo._getModuleSymbols=function(f){var j=f.split(".");for(var d=j.length;d>0;d--){var h=j.slice(0,d).join(".");if((d==1)&&!this._moduleHasPrefix(h)){j[0]="../"+j[0]}else{var g=this._getModulePrefix(h);if(g!=h){j.splice(0,d,g);break}}}return j};dojo._global_omit_module_check=false;dojo._loadModule=dojo.require=function(f,i){i=this._global_omit_module_check||i;var h=this._loadedModules[f];if(h){return h}var j=this._getModuleSymbols(f).join("/")+".js";var d=(!i)?f:null;var g=this._loadPath(j,d);if((!g)&&(!i)){throw new Error("Could not load '"+f+"'; last tried '"+j+"'")}if((!i)&&(!this["_isXDomain"])){h=this._loadedModules[f];if(!h){throw new Error("symbol '"+f+"' is not defined after loading '"+j+"'")}}return h};dojo.provide=function(d){d=d+"";return(c._loadedModules[d]=c.getObject(d,true))};dojo.platformRequire=function(i){var g=i.common||[];var f=g.concat(i[c._name]||i["default"]||[]);for(var d=0;d<f.length;d++){var h=f[d];if(h.constructor==Array){c._loadModule.apply(c,h)}else{c._loadModule(h)}}};dojo.requireIf=function(h,g){if(h===true){var d=[];for(var f=1;f<arguments.length;f++){d.push(arguments[f])}c.require.apply(c,d)}};dojo.requireAfterIf=c.requireIf;dojo.registerModulePath=function(d,f){c._modulePrefixes[d]={name:d,value:f}};dojo.requireLocalization=function(f,g,d,h){c.require("dojo.i18n");c.i18n._requireLocalization.apply(c.hostenv,arguments)};var a=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$");var b=new RegExp("^((([^:]+:)?([^@]+))@)?([^:]*)(:([0-9]+))?$");dojo._Url=function(){var g=null;var o=arguments;var h=o[0];for(var l=1;l<o.length;l++){if(!o[l]){continue}var m=new c._Url(o[l]+"");var p=new c._Url(h+"");if((m.path=="")&&(!m.scheme)&&(!m.authority)&&(!m.query)){if(m.fragment!=g){p.fragment=m.fragment}m=p}else{if(!m.scheme){m.scheme=p.scheme;if(!m.authority){m.authority=p.authority;if(m.path.charAt(0)!="/"){var q=p.path.substring(0,p.path.lastIndexOf("/")+1)+m.path;var f=q.split("/");for(var k=0;k<f.length;k++){if(f[k]=="."){if(k==f.length-1){f[k]=""}else{f.splice(k,1);k--}}else{if(k>0&&!(k==1&&f[0]=="")&&f[k]==".."&&f[k-1]!=".."){if(k==(f.length-1)){f.splice(k,1);f[k-1]=""}else{f.splice(k-1,2);k-=2}}}}m.path=f.join("/")}}}}h="";if(m.scheme){h+=m.scheme+":"}if(m.authority){h+="//"+m.authority}h+=m.path;if(m.query){h+="?"+m.query}if(m.fragment){h+="#"+m.fragment}}this.uri=h.toString();var d=this.uri.match(a);this.scheme=d[2]||(d[1]?"":g);this.authority=d[4]||(d[3]?"":g);this.path=d[5];this.query=d[7]||(d[6]?"":g);this.fragment=d[9]||(d[8]?"":g);if(this.authority!=g){d=this.authority.match(b);this.user=d[3]||g;this.password=d[4]||g;this.host=d[5];this.port=d[7]||g}};dojo._Url.prototype.toString=function(){return this.uri};dojo.moduleUrl=function(g,f){var h=dojo._getModuleSymbols(g).join("/");if(!h){return null}if(h.lastIndexOf("/")!=h.length-1){h+="/"}var d=h.indexOf(":");if(h.charAt(0)!="/"&&(d==-1||d>h.indexOf("/"))){h=c.baseUrl+h}return new c._Url(h,f)}})();if(typeof window!="undefined"){dojo.isBrowser=true;dojo._name="browser";(function(){var d=dojo;if(document&&document.getElementsByTagName){var scripts=document.getElementsByTagName("script");var rePkg=/dojo(\.xd)?\.js([\?\.]|$)/i;for(var i=0;i<scripts.length;i++){var src=scripts[i].getAttribute("src");if(!src){continue}var m=src.match(rePkg);if(m){if(!djConfig.baseUrl){djConfig.baseUrl=src.substring(0,m.index)}var cfg=scripts[i].getAttribute("djConfig");if(cfg){var cfgo=eval("({ "+cfg+" })");for(var x in cfgo){djConfig[x]=cfgo[x]}}break}}}d.baseUrl=djConfig.baseUrl;var n=navigator;var dua=n.userAgent;var dav=n.appVersion;var tv=parseFloat(dav);d.isOpera=(dua.indexOf("Opera")>=0)?tv:0;d.isKhtml=(dav.indexOf("Konqueror")>=0)||(dav.indexOf("Safari")>=0)?tv:0;if(dav.indexOf("Safari")>=0){var vi=dav.indexOf("Version/");d.isSafari=(vi)?parseFloat(dav.substring(vi+8)):2}var geckoPos=dua.indexOf("Gecko");d.isMozilla=d.isMoz=((geckoPos>=0)&&(!d.isKhtml))?tv:0;d.isFF=0;d.isIE=0;try{if(d.isMoz){d.isFF=parseFloat(dua.split("Firefox/")[1].split(" ")[0])}if((document.all)&&(!d.isOpera)){d.isIE=parseFloat(dav.split("MSIE ")[1].split(";")[0])}}catch(e){}if(dojo.isIE&&(window.location.protocol==="file:")){djConfig.ieForceActiveXXhr=true}var cm=document.compatMode;d.isQuirks=(cm=="BackCompat")||(cm=="QuirksMode")||(d.isIE<6);d.locale=djConfig.locale||(d.isIE?n.userLanguage:n.language).toLowerCase();d._println=console.debug;d._XMLHTTP_PROGIDS=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];d._xhrObj=function(){var http=null;var last_e=null;if(!dojo.isIE||!djConfig.ieForceActiveXXhr){try{http=new XMLHttpRequest()}catch(e){}}if(!http){for(var i=0;i<3;++i){var progid=dojo._XMLHTTP_PROGIDS[i];try{http=new ActiveXObject(progid)}catch(e){last_e=e}if(http){dojo._XMLHTTP_PROGIDS=[progid];break}}}if(!http){throw new Error("XMLHTTP not available: "+last_e)}return http};d._isDocumentOk=function(http){var stat=http.status||0;return((stat>=200)&&(stat<300))||(stat==304)||(stat==1223)||(!stat&&(location.protocol=="file:"||location.protocol=="chrome:"))};var owloc=window.location+"";var base=document.getElementsByTagName("base");var hasBase=(base&&base.length>0);d._getText=function(uri,fail_ok){var http=this._xhrObj();if(!hasBase&&dojo._Url){uri=(new dojo._Url(owloc,uri)).toString()}http.open("GET",uri,false);try{http.send(null);if(!d._isDocumentOk(http)){var err=Error("Unable to load "+uri+" status:"+http.status);err.status=http.status;err.responseText=http.responseText;throw err}}catch(e){if(fail_ok){return null}throw e}return http.responseText}})();dojo._initFired=false;dojo._loadInit=function(b){dojo._initFired=true;var a=(b&&b.type)?b.type.toLowerCase():"load";if(arguments.callee.initialized||(a!="domcontentloaded"&&a!="load")){return}arguments.callee.initialized=true;if(typeof dojo._khtmlTimer!="undefined"){clearInterval(dojo._khtmlTimer);delete dojo._khtmlTimer}if(dojo._inFlightCount==0){dojo._modulesLoaded()}};if(document.addEventListener){if(dojo.isOpera||(dojo.isMoz&&(djConfig.enableMozDomContentLoaded===true))){document.addEventListener("DOMContentLoaded",dojo._loadInit,null)}window.addEventListener("load",dojo._loadInit,null)}if(/(WebKit|khtml)/i.test(navigator.userAgent)){dojo._khtmlTimer=setInterval(function(){if(/loaded|complete/.test(document.readyState)){dojo._loadInit()}},10)}(function(){var b=window;var a=function(h,f){var g=b[h]||function(){};b[h]=function(){f.apply(b,arguments);g.apply(b,arguments)}};if(dojo.isIE){document.write('<script defer src="//:" onreadystatechange="if(this.readyState==\'complete\'){dojo._loadInit();}"><\/script>');var d=true;a("onbeforeunload",function(){b.setTimeout(function(){d=false},0)});a("onunload",function(){if(d){dojo.unloaded()}});try{document.namespaces.add("v","urn:schemas-microsoft-com:vml");document.createStyleSheet().addRule("v\\:*","behavior:url(#default#VML)")}catch(c){}}else{a("onbeforeunload",function(){dojo.unloaded()})}})()}if(djConfig.isDebug){dojo.require("dojo._firebug.firebug")}if(djConfig.debugAtAllCosts){djConfig.useXDomain=true;dojo.require("dojo._base._loader.loader_xd");dojo.require("dojo._base._loader.loader_debug");dojo.require("dojo.i18n")}}if(!dojo._hasResource["dojo._base.lang"]){dojo._hasResource["dojo._base.lang"]=true;dojo.provide("dojo._base.lang");dojo.isString=function(a){return typeof a=="string"||a instanceof String};dojo.isArray=function(a){return a&&a instanceof Array||typeof a=="array"};dojo.isFunction=(function(){var a=function(b){return typeof b=="function"||b instanceof Function};return dojo.isSafari?function(b){if(typeof b=="function"&&b=="[object NodeList]"){return false}return a(b)}:a})();dojo.isObject=function(a){return a!==undefined&&(a===null||typeof a=="object"||dojo.isArray(a)||dojo.isFunction(a))};dojo.isArrayLike=function(a){var b=dojo;return a&&a!==undefined&&!b.isString(a)&&!b.isFunction(a)&&!(a.tagName&&a.tagName.toLowerCase()=="form")&&(b.isArray(a)||isFinite(a.length))};dojo.isAlien=function(a){return a&&!dojo.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))};dojo.extend=function(d,c){for(var b=1,a=arguments.length;b<a;b++){dojo._mixin(d.prototype,arguments[b])}return d};dojo._hitchArgs=function(b,d){var c=dojo._toArray(arguments,2);var a=dojo.isString(d);return function(){var g=dojo._toArray(arguments);var h=a?(b||dojo.global)[d]:d;return h&&h.apply(b||this,c.concat(g))}};dojo.hitch=function(a,b){if(arguments.length>2){return dojo._hitchArgs.apply(dojo,arguments)}if(!b){b=a;a=null}if(dojo.isString(b)){a=a||dojo.global;if(!a[b]){throw (['dojo.hitch: scope["',b,'"] is null (scope="',a,'")'].join(""))}return function(){return a[b].apply(a,arguments||[])}}return !a?b:function(){return b.apply(a,arguments||[])}};dojo.delegate=dojo._delegate=function(d,c){function a(){}a.prototype=d;var b=new a();if(c){dojo.mixin(b,c)}return b};dojo.partial=function(b){var a=[null];return dojo.hitch.apply(dojo,a.concat(dojo._toArray(arguments)))};dojo._toArray=function(d,f,c){var b=c||[];for(var a=f||0;a<d.length;a++){b.push(d[a])}return b};dojo.clone=function(c){if(!c){return c}if(dojo.isArray(c)){var b=[];for(var a=0;a<c.length;++a){b.push(dojo.clone(c[a]))}return b}else{if(dojo.isObject(c)){if(c.nodeType&&c.cloneNode){return c.cloneNode(true)}else{var b=new c.constructor();for(var a in c){if(!(a in b)||b[a]!=c[a]){b[a]=dojo.clone(c[a])}}return b}}}return c};dojo.trim=function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}if(!dojo._hasResource["dojo._base.declare"]){dojo._hasResource["dojo._base.declare"]=true;dojo.provide("dojo._base.declare");dojo.declare=function(f,n,h){if(dojo.isFunction(h)||(arguments.length>3)){dojo.deprecated("dojo.declare: for class '"+f+"' pass initializer function as 'constructor' property instead of as a separate argument.","","1.0");var g=h;h=arguments[3]||{};h.constructor=g}var l=arguments.callee,d=null;if(dojo.isArray(n)){d=n;n=d.shift()}if(d){for(var b=0,a;b<d.length;b++){a=d[b];if(!a){throw ("Mixin #"+b+" to declaration of "+f+" is null. It's likely a required module is not loaded.")}n=l._delegate(n,a)}}var o=(h||0).constructor,k=l._delegate(n),j;for(var b in h){if(dojo.isFunction(j=h[b])&&(!0[b])){j.nom=b}}dojo.extend(k,{declaredClass:f,_constructor:o,preamble:null},h||0);k.prototype.constructor=k;return dojo.setObject(f,k)};dojo.mixin(dojo.declare,{_delegate:function(f,a){var d=(f||0).prototype,c=(a||0).prototype;var b=dojo.declare._makeCtor();dojo.mixin(b,{superclass:d,mixin:c,extend:dojo.declare._extend});if(f){b.prototype=dojo._delegate(d)}dojo.extend(b,dojo.declare._core,c||0,{_constructor:null,preamble:null});b.prototype.constructor=b;b.prototype.declaredClass=(d||0).declaredClass+"_"+(c||0).declaredClass;return b},_extend:function(b){for(var a in b){if(dojo.isFunction(fn=b[a])&&(!0[a])){fn.nom=a}}dojo.extend(this,b)},_makeCtor:function(){return function(){this._construct(arguments)}},_core:{_construct:function(g){var h=g.callee,l=h.superclass,f=l&&l.constructor,d=h.mixin,b=d&&d.constructor,j=g,k,i;if(j[0]){if((i=j[0]["preamble"])){j=i.apply(this,j)||j}}if(i=h.prototype.preamble){j=i.apply(this,j)||j}if(f&&f.apply){f.apply(this,j)}if(b&&b.apply){b.apply(this,j)}if(k=h.prototype._constructor){k.apply(this,g)}if(this.constructor.prototype==h.prototype&&(f=this.postscript)){f.apply(this,g)}},_findMixin:function(b){var f=this.constructor,d,a;while(f){d=f.superclass;a=f.mixin;if(a==b||(a instanceof b.constructor)){return d}if(a&&(a=a._findMixin(b))){return a}f=d&&d.constructor}},_findMethod:function(d,k,g,b){var i=g,j,a,h;do{j=i.constructor;a=j.mixin;if(a&&(a=this._findMethod(d,k,a,b))){return a}if((h=i[d])&&(b==(h==k))){return i}i=j.superclass}while(i);return !b&&(i=this._findMixin(g))&&this._findMethod(d,k,i,b)},inherited:function(g,f,d){var b=arguments;if(!dojo.isString(b[0])){d=f;f=g;g=f.callee.nom}var k=f.callee,j=this.constructor.prototype,b=d||f,h,i;if(this[g]!=k||j[g]==k){i=this._findMethod(g,k,j,true);if(!i){throw (this.declaredClass+': name argument ("'+g+'") to inherited must match callee (declare.js)')}j=this._findMethod(g,k,i,false)}h=j&&j[g];if(!h){console.debug(i.declaredClass+': no inherited "'+g+'" was found (declare.js)');return}return h.apply(this,b)}}})}if(!dojo._hasResource["dojo._base.connect"]){dojo._hasResource["dojo._base.connect"]=true;dojo.provide("dojo._base.connect");dojo._listener={getDispatcher:function(){return function(){var f=Array.prototype,h=arguments.callee,a=h._listeners,d=h.target;var g=d&&d.apply(this,arguments);for(var b in a){if(!(b in f)){a[b].apply(this,arguments)}}return g}},add:function(c,h,b){c=c||dojo.global;var a=c[h];if(!a||!a._listeners){var g=dojo._listener.getDispatcher();g.target=a;g._listeners=[];a=c[h]=g}return a._listeners.push(b)},remove:function(c,d,b){var a=(c||dojo.global)[d];if(a&&a._listeners&&b--){delete a._listeners[b]}}};dojo.connect=function(h,c,f,b,n){var m=arguments,k=[],j=0;k.push(dojo.isString(m[0])?null:m[j++],m[j++]);var d=m[j+1];k.push(dojo.isString(d)||dojo.isFunction(d)?m[j++]:null,m[j++]);for(var g=m.length;j<g;j++){k.push(m[j])}return dojo._connect.apply(this,k)};dojo._connect=function(f,d,b,g){var a=dojo._listener,c=a.add(f,d,dojo.hitch(b,g));return[f,d,c,a]};dojo.disconnect=function(a){if(a&&a[0]!==undefined){dojo._disconnect.apply(this,a);delete a[0]}};dojo._disconnect=function(d,a,c,b){b.remove(d,a,c)};dojo._topics={};dojo.subscribe=function(a,b,c){return[a,dojo._listener.add(dojo._topics,a,dojo.hitch(b,c))]};dojo.unsubscribe=function(a){if(a){dojo._listener.remove(dojo._topics,a[0],a[1])}};dojo.publish=function(b,a){var c=dojo._topics[b];if(c){c.apply(this,a||[])}};dojo.connectPublisher=function(b,d,c){var a=function(){dojo.publish(b,arguments)};return(c)?dojo.connect(d,c,a):dojo.connect(d,a)}}if(!dojo._hasResource["dojo._base.Deferred"]){dojo._hasResource["dojo._base.Deferred"]=true;dojo.provide("dojo._base.Deferred");dojo.Deferred=function(a){this.chain=[];this.id=this._nextId();this.fired=-1;this.paused=0;this.results=[null,null];this.canceller=a;this.silentlyCancelled=false};dojo.extend(dojo.Deferred,{_nextId:(function(){var a=1;return function(){return a++}})(),cancel:function(){var b;if(this.fired==-1){if(this.canceller){b=this.canceller(this)}else{this.silentlyCancelled=true}if(this.fired==-1){if(!(b instanceof Error)){var a=b;b=new Error("Deferred Cancelled");b.dojoType="cancel";b.cancelResult=a}this.errback(b)}}else{if((this.fired==0)&&(this.results[0] instanceof dojo.Deferred)){this.results[0].cancel()}}},_resback:function(a){this.fired=((a instanceof Error)?1:0);this.results[this.fired]=a;this._fire()},_check:function(){if(this.fired!=-1){if(!this.silentlyCancelled){throw new Error("already called!")}this.silentlyCancelled=false;return}},callback:function(a){this._check();this._resback(a)},errback:function(a){this._check();if(!(a instanceof Error)){a=new Error(a)}this._resback(a)},addBoth:function(a,b){var c=dojo.hitch(a,b);if(arguments.length>2){c=dojo.partial(c,arguments,2)}return this.addCallbacks(c,c)},addCallback:function(a,b){var c=dojo.hitch(a,b);if(arguments.length>2){c=dojo.partial(c,arguments,2)}return this.addCallbacks(c,null)},addErrback:function(a,b){var c=dojo.hitch(a,b);if(arguments.length>2){c=dojo.partial(c,arguments,2)}return this.addCallbacks(null,c)},addCallbacks:function(a,b){this.chain.push([a,b]);if(this.fired>=0){this._fire()}return this},_fire:function(){var d=this.chain;var i=this.fired;var c=this.results[i];var b=this;var a=null;while((d.length>0)&&(this.paused==0)){var h=d.shift()[i];if(!h){continue}try{c=h(c);i=((c instanceof Error)?1:0);if(c instanceof dojo.Deferred){a=function(f){b._resback(f);b.paused--;if((b.paused==0)&&(b.fired>=0)){b._fire()}};this.paused++}}catch(g){console.debug(g);i=1;c=g}}this.fired=i;this.results[i]=c;if((a)&&(this.paused)){c.addBoth(a)}}})}if(!dojo._hasResource["dojo._base.json"]){dojo._hasResource["dojo._base.json"]=true;dojo.provide("dojo._base.json");dojo.fromJson=function(json){try{return eval("("+json+")")}catch(e){console.debug(e);return json}};dojo._escapeString=function(a){return('"'+a.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};dojo.toJsonIndentStr="\t";dojo.toJson=function(j,f,n){n=n||"";var m=(f?n+dojo.toJsonIndentStr:"");var k=(f?"\n":"");var o=typeof(j);if(o=="undefined"){return"undefined"}else{if((o=="number")||(o=="boolean")){return j+""}else{if(j===null){return"null"}}}if(dojo.isString(j)){return dojo._escapeString(j)}if(j.nodeType&&j.cloneNode){return""}var a=arguments.callee;var g;if(typeof j.__json__=="function"){g=j.__json__();if(j!==g){return a(g,f,m)}}if(typeof j.json=="function"){g=j.json();if(j!==g){return a(g,f,m)}}if(dojo.isArray(j)){var l=[];for(var h=0;h<j.length;h++){var d=a(j[h],f,m);if(typeof(d)!="string"){d="undefined"}l.push(k+m+d)}return"["+l.join(", ")+k+n+"]"}if(o=="function"){return null}var c=[];for(var p in j){var b;if(typeof(p)=="number"){b='"'+p+'"'}else{if(typeof(p)=="string"){b=dojo._escapeString(p)}else{continue}}d=a(j[p],f,m);if(typeof(d)!="string"){continue}c.push(k+m+b+": "+d)}return"{"+c.join(", ")+k+n+"}"}}if(!dojo._hasResource["dojo._base.array"]){dojo._hasResource["dojo._base.array"]=true;dojo.provide("dojo._base.array");(function(){var a=function(c,d,b){return[(dojo.isString(c)?c.split(""):c),(d||dojo.global),(dojo.isString(b)?(new Function("item","index","array",b)):b)]};dojo.mixin(dojo,{indexOf:function(j,h,f,d){var c=0,g=1,b=j.length;if(d){c=b-1;g=b=-1}for(c=f||c;c!=b;c+=g){if(j[c]==h){return c}}return -1},lastIndexOf:function(d,c,b){return dojo.indexOf(d,c,b,true)},forEach:function(c,h,g){if(!c||!c.length){return}var b=a(c,g,h);c=b[0];for(var f=0,d=b[0].length;f<d;f++){b[2].call(b[1],c[f],f,c)}},_everyOrSome:function(j,d,k,h){var c=a(d,h,k);d=c[0];for(var g=0,f=d.length;g<f;g++){var b=!!c[2].call(c[1],d[g],g,d);if(j^b){return b}}return j},every:function(b,d,c){return this._everyOrSome(true,b,d,c)},some:function(b,d,c){return this._everyOrSome(false,b,d,c)},map:function(c,f,g){var b=a(c,g,f);c=b[0];var h=((arguments[3])?(new arguments[3]()):[]);for(var d=0;d<c.length;++d){h.push(b[2].call(b[1],c[d],d,c))}return h},filter:function(c,h,f){var b=a(c,f,h);c=b[0];var g=[];for(var d=0;d<c.length;d++){if(b[2].call(b[1],c[d],d,c)){g.push(c[d])}}return g}})})()}if(!dojo._hasResource["dojo._base.Color"]){dojo._hasResource["dojo._base.Color"]=true;dojo.provide("dojo._base.Color");dojo.Color=function(a){if(a){this.setColor(a)}};dojo.Color.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]};dojo.extend(dojo.Color,{r:255,g:255,b:255,a:1,_set:function(i,h,c,d){var f=this;f.r=i;f.g=h;f.b=c;f.a=d},setColor:function(a){var b=dojo;if(b.isString(a)){b.colorFromString(a,this)}else{if(b.isArray(a)){b.colorFromArray(a,this)}else{this._set(a.r,a.g,a.b,a.a);if(!(a instanceof b.Color)){this.sanitize()}}}return this},sanitize:function(){return this},toRgb:function(){var a=this;return[a.r,a.g,a.b]},toRgba:function(){var a=this;return[a.r,a.g,a.b,a.a]},toHex:function(){var a=dojo.map(["r","g","b"],function(b){var c=this[b].toString(16);return c.length<2?"0"+c:c},this);return"#"+a.join("")},toCss:function(a){var c=this,b=c.r+", "+c.g+", "+c.b;return(a?"rgba("+b+", "+c.a:"rgb("+b)+")"},toString:function(){return this.toCss(true)}});dojo.blendColors=function(h,a,c,f){var g=dojo,b=f||new dojo.Color();g.forEach(["r","g","b","a"],function(d){b[d]=h[d]+(a[d]-h[d])*c;if(d!="a"){b[d]=Math.round(b[d])}});return b.sanitize()};dojo.colorFromRgb=function(b,c){var a=b.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return a&&dojo.colorFromArray(a[1].split(/\s*,\s*/),c)};dojo.colorFromHex=function(b,g){var h=dojo,c=g||new h.Color(),f=(b.length==4)?4:8,a=(1<<f)-1;b=Number("0x"+b.substr(1));if(isNaN(b)){return null}h.forEach(["b","g","r"],function(d){var i=b&a;b>>=f;c[d]=f==4?17*i:i});c.a=1;return c};dojo.colorFromArray=function(b,d){var c=d||new dojo.Color();c._set(Number(b[0]),Number(b[1]),Number(b[2]),Number(b[3]));if(isNaN(c.a)){c.a=1}return c.sanitize()};dojo.colorFromString=function(d,c){var b=dojo.Color.named[d];return b&&dojo.colorFromArray(b,c)||dojo.colorFromRgb(d,c)||dojo.colorFromHex(d,c)}}if(!dojo._hasResource["dojo._base"]){dojo._hasResource["dojo._base"]=true;dojo.provide("dojo._base");(function(){if(djConfig.require){for(var a=0;a<djConfig.require.length;a++){dojo.require(djConfig.require[a])}}})()}if(!dojo._hasResource["dojo._base.window"]){dojo._hasResource["dojo._base.window"]=true;dojo.provide("dojo._base.window");dojo._gearsObject=function(){var a;var b;var d=dojo.getObject("google.gears");if(d){return d}if(typeof GearsFactory!="undefined"){a=new GearsFactory()}else{if(dojo.isIE){try{a=new ActiveXObject("Gears.Factory")}catch(c){}}else{if(navigator.mimeTypes["application/x-googlegears"]){a=document.createElement("object");a.setAttribute("type","application/x-googlegears");a.setAttribute("width",0);a.setAttribute("height",0);a.style.display="none";document.documentElement.appendChild(a)}}}if(!a){return null}dojo.setObject("google.gears.factory",a);return dojo.getObject("google.gears")};dojo.isGears=(!!dojo._gearsObject())||0;dojo.doc=window.document||null;dojo.body=function(){return dojo.doc.body||dojo.doc.getElementsByTagName("body")[0]};dojo.setContext=function(b,a){dojo.global=b;dojo.doc=a};dojo._fireCallback=function(c,a,b){if(a&&dojo.isString(c)){c=a[c]}return(a?c.apply(a,b||[]):c())};dojo.withGlobal=function(h,g,c,f){var d;var a=dojo.global;var b=dojo.doc;try{dojo.setContext(h,h.document);d=dojo._fireCallback(g,c,f)}finally{dojo.setContext(a,b)}return d};dojo.withDoc=function(a,g,c,f){var d;var b=dojo.doc;try{dojo.doc=a;d=dojo._fireCallback(g,c,f)}finally{dojo.doc=b}return d};(function(){var a=djConfig.modulePaths;if(a){for(var b in a){dojo.registerModulePath(b,a[b])}}})()}if(!dojo._hasResource["dojo._base.event"]){dojo._hasResource["dojo._base.event"]=true;dojo.provide("dojo._base.event");(function(){var a=dojo._event_listener={add:function(k,j,i){if(!k){return}j=a._normalizeEventName(j);i=a._fixCallback(j,i);var l=j;if((!dojo.isIE)&&((j=="mouseenter")||(j=="mouseleave"))){var l=j;var m=i;j=(j=="mouseenter")?"mouseover":"mouseout";i=function(n){var o=dojo.isDescendant(n.relatedTarget,k);if(o==false){return m.call(this,n)}}}k.addEventListener(j,i,false);return i},remove:function(j,i,k){(j)&&(j.removeEventListener(a._normalizeEventName(i),k,false))},_normalizeEventName:function(i){return(i.slice(0,2)=="on"?i.slice(2):i)},_fixCallback:function(j,i){return(j!="keypress"?i:function(k){return i.call(this,a._fixEvent(k,this))})},_fixEvent:function(i,j){switch(i.type){case"keypress":a._setKeyChar(i);break}return i},_setKeyChar:function(i){i.keyChar=(i.charCode?String.fromCharCode(i.charCode):"")}};dojo.fixEvent=function(i,j){return a._fixEvent(i,j)};dojo.stopEvent=function(i){i.preventDefault();i.stopPropagation()};var d=dojo._listener;dojo._connect=function(n,j,k,i,r){var q=n&&(n.nodeType||n.attachEvent||n.addEventListener);var p=!q?0:(!r?1:2),m=[dojo._listener,a,d][p];var o=m.add(n,j,dojo.hitch(k,i));return[n,j,o,p]};dojo._disconnect=function(l,i,k,j){([dojo._listener,a,d][j]).remove(l,i,k)};dojo.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145};if(dojo.isIE){var g=function(j,i){try{return(j.keyCode=i)}catch(j){return 0}};var b=dojo._listener;if(!djConfig._allow_leaks){d=b=dojo._ie_listener={handlers:[],add:function(k,m,j){k=k||dojo.global;var i=k[m];if(!i||!i._listeners){var l=dojo._getIeDispatcher();l.target=i&&(f.push(i)-1);l._listeners=[];i=k[m]=l}return i._listeners.push(f.push(j)-1)},remove:function(m,n,k){var j=(m||dojo.global)[n],i=j&&j._listeners;if(j&&i&&k--){delete f[i[k]];delete i[k]}}};var f=b.handlers}dojo.mixin(a,{add:function(l,k,j){if(!l){return}k=a._normalizeEventName(k);if(k=="onkeypress"){var i=l.onkeydown;if(!i||!i._listeners||!i._stealthKeydown){a.add(l,"onkeydown",a._stealthKeyDown);l.onkeydown._stealthKeydown=true}}return b.add(l,k,a._fixCallback(j))},remove:function(j,i,k){b.remove(j,a._normalizeEventName(i),k)},_normalizeEventName:function(i){return(i.slice(0,2)!="on"?"on"+i:i)},_nop:function(){},_fixEvent:function(j,k){if(!j){var i=(k)&&((k.ownerDocument||k.document||k).parentWindow)||window;j=i.event}if(!j){return(j)}j.target=j.srcElement;j.currentTarget=(k||j.srcElement);j.layerX=j.offsetX;j.layerY=j.offsetY;var m=j.srcElement,n=(m&&m.ownerDocument)||document;var l=((dojo.isIE<6)||(n.compatMode=="BackCompat"))?n.body:n.documentElement;var o=dojo._getIeDocumentElementOffset();j.pageX=j.clientX+dojo._fixIeBiDiScrollLeft(l.scrollLeft||0)-o.x;j.pageY=j.clientY+(l.scrollTop||0)-o.y;if(j.type=="mouseover"){j.relatedTarget=j.fromElement}if(j.type=="mouseout"){j.relatedTarget=j.toElement}j.stopPropagation=a._stopPropagation;j.preventDefault=a._preventDefault;return a._fixKeys(j)},_fixKeys:function(i){switch(i.type){case"keypress":var j=("charCode" in i?i.charCode:i.keyCode);if(j==10){j=0;i.keyCode=13}else{if(j==13||j==27){j=0}else{if(j==3){j=99}}}i.charCode=j;a._setKeyChar(i);break}return i},_punctMap:{106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39},_stealthKeyDown:function(i){var m=i.currentTarget.onkeypress;if(!m||!m._listeners){return}var l=i.keyCode;var n=(l!=13)&&(l!=32)&&(l!=27)&&(l<48||l>90)&&(l<96||l>111)&&(l<186||l>192)&&(l<219||l>222);if(n||i.ctrlKey){var o=(n?0:l);if(i.ctrlKey){if(l==3||l==13){return}else{if(o>95&&o<106){o-=48}else{if((!i.shiftKey)&&(o>=65&&o<=90)){o+=32}else{o=a._punctMap[o]||o}}}}var j=a._synthesizeEvent(i,{type:"keypress",faux:true,charCode:o});m.call(i.currentTarget,j);i.cancelBubble=j.cancelBubble;i.returnValue=j.returnValue;g(i,j.keyCode)}},_stopPropagation:function(){this.cancelBubble=true},_preventDefault:function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey){g(this,0)}this.returnValue=false}});dojo.stopEvent=function(i){i=i||window.event;a._stopPropagation.call(i);a._preventDefault.call(i)}}a._synthesizeEvent=function(i,k){var j=dojo.mixin({},i,k);a._setKeyChar(j);j.preventDefault=function(){i.preventDefault()};j.stopPropagation=function(){i.stopPropagation()};return j};if(dojo.isOpera){dojo.mixin(a,{_fixEvent:function(i,j){switch(i.type){case"keypress":var k=i.which;if(k==3){k=99}k=((k<41)&&(!i.shiftKey)?0:k);if((i.ctrlKey)&&(!i.shiftKey)&&(k>=65)&&(k<=90)){k+=32}return a._synthesizeEvent(i,{charCode:k})}return i}})}if(dojo.isSafari){dojo.mixin(a,{_fixEvent:function(i,l){switch(i.type){case"keypress":var n=i.charCode,m=i.shiftKey,j=i.keyCode;j=j||h[i.keyIdentifier]||0;if(i.keyIdentifier=="Enter"){n=0}else{if((i.ctrlKey)&&(n>0)&&(n<27)){n+=96}else{if(n==dojo.keys.SHIFT_TAB){n=dojo.keys.TAB;m=true}else{n=(n>=32&&n<63232?n:0)}}}return a._synthesizeEvent(i,{charCode:n,shiftKey:m,keyCode:j})}return i}});dojo.mixin(dojo.keys,{SHIFT_TAB:25,UP_ARROW:63232,DOWN_ARROW:63233,LEFT_ARROW:63234,RIGHT_ARROW:63235,F1:63236,F2:63237,F3:63238,F4:63239,F5:63240,F6:63241,F7:63242,F8:63243,F9:63244,F10:63245,F11:63246,F12:63247,PAUSE:63250,DELETE:63272,HOME:63273,END:63275,PAGE_UP:63276,PAGE_DOWN:63277,INSERT:63302,PRINT_SCREEN:63248,SCROLL_LOCK:63249,NUM_LOCK:63289});var c=dojo.keys,h={Up:c.UP_ARROW,Down:c.DOWN_ARROW,Left:c.LEFT_ARROW,Right:c.RIGHT_ARROW,PageUp:c.PAGE_UP,PageDown:c.PAGE_DOWN}}})();if(dojo.isIE){dojo._getIeDispatcher=function(){return function(){var f=Array.prototype,g=dojo._ie_listener.handlers,k=arguments.callee,a=k._listeners,d=g[k.target];var j=d&&d.apply(this,arguments);for(var b in a){if(!(b in f)){g[a[b]].apply(this,arguments)}}return j}};dojo._event_listener._fixCallback=function(a){var b=dojo._event_listener._fixEvent;return function(c){return a.call(this,b(c,this))}}}}if(!dojo._hasResource["dojo._base.html"]){dojo._hasResource["dojo._base.html"]=true;dojo.provide("dojo._base.html");try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}if(dojo.isIE||dojo.isOpera){dojo.byId=function(g,d){if(dojo.isString(g)){var b=d||dojo.doc;var f=b.getElementById(g);if(f&&f.attributes.id.value==g){return f}else{var a=b.all[g];if(!a){return}if(!a.length){return a}var c=0;while((f=a[c++])){if(f.attributes.id.value==g){return f}}}}else{return g}}}else{dojo.byId=function(b,a){if(dojo.isString(b)){return(a||dojo.doc).getElementById(b)}else{return b}}}(function(){var _destroyContainer=null;dojo._destroyElement=function(node){node=dojo.byId(node);try{if(!_destroyContainer){_destroyContainer=document.createElement("div")}_destroyContainer.appendChild(node.parentNode?node.parentNode.removeChild(node):node);_destroyContainer.innerHTML=""}catch(e){}};dojo.isDescendant=function(node,ancestor){try{node=dojo.byId(node);ancestor=dojo.byId(ancestor);while(node){if(node===ancestor){return true}node=node.parentNode}}catch(e){return -1}return false};dojo.setSelectable=function(node,selectable){node=dojo.byId(node);if(dojo.isMozilla){node.style.MozUserSelect=selectable?"":"none"}else{if(dojo.isKhtml){node.style.KhtmlUserSelect=selectable?"auto":"none"}else{if(dojo.isIE){node.unselectable=selectable?"":"on";dojo.query("*",node).forEach(function(descendant){descendant.unselectable=selectable?"":"on"})}}}};var _insertBefore=function(node,ref){ref.parentNode.insertBefore(node,ref);return true};var _insertAfter=function(node,ref){var pn=ref.parentNode;if(ref==pn.lastChild){pn.appendChild(node)}else{return _insertBefore(node,ref.nextSibling)}return true};dojo.place=function(node,refNode,position){if(!node||!refNode||position===undefined){return false}node=dojo.byId(node);refNode=dojo.byId(refNode);if(typeof position=="number"){var cn=refNode.childNodes;if((position==0&&cn.length==0)||cn.length==position){refNode.appendChild(node);return true}if(position==0){return _insertBefore(node,refNode.firstChild)}return _insertAfter(node,cn[position-1])}switch(position.toLowerCase()){case"before":return _insertBefore(node,refNode);case"after":return _insertAfter(node,refNode);case"first":if(refNode.firstChild){return _insertBefore(node,refNode.firstChild)}else{refNode.appendChild(node);return true}break;default:refNode.appendChild(node);return true}};dojo.boxModel="content-box";if(dojo.isIE){var _dcm=document.compatMode;dojo.boxModel=(_dcm=="BackCompat")||(_dcm=="QuirksMode")||(dojo.isIE<6)?"border-box":"content-box"}var gcs,dv=document.defaultView;if(dojo.isSafari){gcs=function(node){var s=dv.getComputedStyle(node,null);if(!s&&node.style){node.style.display="";s=dv.getComputedStyle(node,null)}return s||{}}}else{if(dojo.isIE){gcs=function(node){return node.currentStyle}}else{gcs=function(node){return dv.getComputedStyle(node,null)}}}dojo.getComputedStyle=gcs;if(!dojo.isIE){dojo._toPixelValue=function(element,value){return parseFloat(value)||0}}else{dojo._toPixelValue=function(element,avalue){if(!avalue){return 0}if(avalue=="medium"){return 4}if(avalue.slice&&(avalue.slice(-2)=="px")){return parseFloat(avalue)}with(element){var sLeft=style.left;var rsLeft=runtimeStyle.left;runtimeStyle.left=currentStyle.left;try{style.left=avalue;avalue=style.pixelLeft}catch(e){avalue=0}style.left=sLeft;runtimeStyle.left=rsLeft}return avalue}}dojo._getOpacity=(dojo.isIE?function(node){try{return(node.filters.alpha.opacity/100)}catch(e){return 1}}:function(node){return dojo.getComputedStyle(node).opacity});dojo._setOpacity=(dojo.isIE?function(node,opacity){if(opacity==1){node.style.cssText=node.style.cssText.replace(/FILTER:[^;]*;/i,"");if(node.nodeName.toLowerCase()=="tr"){dojo.query("> td",node).forEach(function(i){i.style.cssText=i.style.cssText.replace(/FILTER:[^;]*;/i,"")})}}else{var o="Alpha(Opacity="+(opacity*100)+")";node.style.filter=o}if(node.nodeName.toLowerCase()=="tr"){dojo.query("> td",node).forEach(function(i){i.style.filter=o})}return opacity}:function(node,opacity){return node.style.opacity=opacity});var _pixelNamesCache={width:true,height:true,left:true,top:true};var _toStyleValue=function(node,type,value){type=type.toLowerCase();if(_pixelNamesCache[type]===true){return dojo._toPixelValue(node,value)}else{if(_pixelNamesCache[type]===false){return value}else{if(dojo.isOpera&&type=="cssText"){}if((type.indexOf("margin")>=0)||(type.indexOf("padding")>=0)||(type.indexOf("width")>=0)||(type.indexOf("height")>=0)||(type.indexOf("max")>=0)||(type.indexOf("min")>=0)||(type.indexOf("offset")>=0)){_pixelNamesCache[type]=true;return dojo._toPixelValue(node,value)}else{_pixelNamesCache[type]=false;return value}}}};dojo.style=function(node,style,value){var n=dojo.byId(node),args=arguments.length,op=(style=="opacity");if(args==3){return op?dojo._setOpacity(n,value):n.style[style]=value}if(args==2&&op){return dojo._getOpacity(n)}var s=dojo.getComputedStyle(n);return(args==1)?s:_toStyleValue(n,style,s[style])};dojo._getPadExtents=function(n,computedStyle){var s=computedStyle||gcs(n),px=dojo._toPixelValue,l=px(n,s.paddingLeft),t=px(n,s.paddingTop);return{l:l,t:t,w:l+px(n,s.paddingRight),h:t+px(n,s.paddingBottom)}};dojo._getBorderExtents=function(n,computedStyle){var ne="none",px=dojo._toPixelValue,s=computedStyle||gcs(n),bl=(s.borderLeftStyle!=ne?px(n,s.borderLeftWidth):0),bt=(s.borderTopStyle!=ne?px(n,s.borderTopWidth):0);return{l:bl,t:bt,w:bl+(s.borderRightStyle!=ne?px(n,s.borderRightWidth):0),h:bt+(s.borderBottomStyle!=ne?px(n,s.borderBottomWidth):0)}};dojo._getPadBorderExtents=function(n,computedStyle){var s=computedStyle||gcs(n),p=dojo._getPadExtents(n,s),b=dojo._getBorderExtents(n,s);return{l:p.l+b.l,t:p.t+b.t,w:p.w+b.w,h:p.h+b.h}};dojo._getMarginExtents=function(n,computedStyle){var s=computedStyle||gcs(n),px=dojo._toPixelValue,l=px(n,s.marginLeft),t=px(n,s.marginTop),r=px(n,s.marginRight),b=px(n,s.marginBottom);if(dojo.isSafari&&(s.position!="absolute")){r=l}return{l:l,t:t,w:l+r,h:t+b}};dojo._getMarginBox=function(node,computedStyle){var s=computedStyle||gcs(node),me=dojo._getMarginExtents(node,s);var l=node.offsetLeft-me.l,t=node.offsetTop-me.t;if(dojo.isMoz){var sl=parseFloat(s.left),st=parseFloat(s.top);if(!isNaN(sl)&&!isNaN(st)){l=sl,t=st}else{var p=node.parentNode;if(p&&p.style){var pcs=gcs(p);if(pcs.overflow!="visible"){var be=dojo._getBorderExtents(p,pcs);l+=be.l,t+=be.t}}}}else{if(dojo.isOpera){var p=node.parentNode;if(p){var be=dojo._getBorderExtents(p);l-=be.l,t-=be.t}}}return{l:l,t:t,w:node.offsetWidth+me.w,h:node.offsetHeight+me.h}};dojo._getContentBox=function(node,computedStyle){var s=computedStyle||gcs(node),pe=dojo._getPadExtents(node,s),be=dojo._getBorderExtents(node,s),w=node.clientWidth,h;if(!w){w=node.offsetWidth,h=node.offsetHeight}else{h=node.clientHeight,be.w=be.h=0}if(dojo.isOpera){pe.l+=be.l;pe.t+=be.t}return{l:pe.l,t:pe.t,w:w-pe.w-be.w,h:h-pe.h-be.h}};dojo._getBorderBox=function(node,computedStyle){var s=computedStyle||gcs(node),pe=dojo._getPadExtents(node,s),cb=dojo._getContentBox(node,s);return{l:cb.l-pe.l,t:cb.t-pe.t,w:cb.w+pe.w,h:cb.h+pe.h}};dojo._setBox=function(node,l,t,w,h,u){u=u||"px";with(node.style){if(!isNaN(l)){left=l+u}if(!isNaN(t)){top=t+u}if(w>=0){width=w+u}if(h>=0){height=h+u}}};dojo._usesBorderBox=function(node){var n=node.tagName;return dojo.boxModel=="border-box"||n=="TABLE"||n=="BUTTON"};dojo._setContentSize=function(node,widthPx,heightPx,computedStyle){var bb=dojo._usesBorderBox(node);if(bb){var pb=dojo._getPadBorderExtents(node,computedStyle);if(widthPx>=0){widthPx+=pb.w}if(heightPx>=0){heightPx+=pb.h}}dojo._setBox(node,NaN,NaN,widthPx,heightPx)};dojo._setMarginBox=function(node,leftPx,topPx,widthPx,heightPx,computedStyle){var s=computedStyle||dojo.getComputedStyle(node);var bb=dojo._usesBorderBox(node),pb=bb?_nilExtents:dojo._getPadBorderExtents(node,s),mb=dojo._getMarginExtents(node,s);if(widthPx>=0){widthPx=Math.max(widthPx-pb.w-mb.w,0)}if(heightPx>=0){heightPx=Math.max(heightPx-pb.h-mb.h,0)}dojo._setBox(node,leftPx,topPx,widthPx,heightPx)};var _nilExtents={l:0,t:0,w:0,h:0};dojo.marginBox=function(node,box){var n=dojo.byId(node),s=gcs(n),b=box;return !b?dojo._getMarginBox(n,s):dojo._setMarginBox(n,b.l,b.t,b.w,b.h,s)};dojo.contentBox=function(node,box){var n=dojo.byId(node),s=gcs(n),b=box;return !b?dojo._getContentBox(n,s):dojo._setContentSize(n,b.w,b.h,s)};var _sumAncestorProperties=function(node,prop){if(!(node=(node||0).parentNode)){return 0}var val,retVal=0,_b=dojo.body();while(node&&node.style){if(gcs(node).position=="fixed"){return 0}val=node[prop];if(val){retVal+=val-0;if(node==_b){break}}node=node.parentNode}return retVal};dojo._docScroll=function(){var _b=dojo.body();var _w=dojo.global;var de=dojo.doc.documentElement;return{y:(_w.pageYOffset||de.scrollTop||_b.scrollTop||0),x:(_w.pageXOffset||dojo._fixIeBiDiScrollLeft(de.scrollLeft)||_b.scrollLeft||0)}};dojo._isBodyLtr=function(){return !("_bodyLtr" in dojo)?dojo._bodyLtr=dojo.getComputedStyle(dojo.body()).direction=="ltr":dojo._bodyLtr};dojo._getIeDocumentElementOffset=function(){var de=dojo.doc.documentElement;if(dojo.isIE>=7){return{x:de.getBoundingClientRect().left,y:de.getBoundingClientRect().top}}else{return{x:dojo._isBodyLtr()||window.parent==window?de.clientLeft:de.offsetWidth-de.clientWidth-de.clientLeft,y:de.clientTop}}};dojo._fixIeBiDiScrollLeft=function(scrollLeft){if(dojo.isIE&&!dojo._isBodyLtr()){var de=dojo.doc.documentElement;return scrollLeft+de.clientWidth-de.scrollWidth}return scrollLeft};dojo._abs=function(node,includeScroll){var ownerDocument=node.ownerDocument;var ret={x:0,y:0};var hasScroll=false;var db=dojo.body();if(dojo.isIE){var client=node.getBoundingClientRect();var offset=dojo._getIeDocumentElementOffset();ret.x=client.left-offset.x;ret.y=client.top-offset.y}else{if(ownerDocument.getBoxObjectFor){var bo=ownerDocument.getBoxObjectFor(node);ret.x=bo.x-_sumAncestorProperties(node,"scrollLeft");ret.y=bo.y-_sumAncestorProperties(node,"scrollTop")}else{if(node.offsetParent){hasScroll=true;var endNode;if(dojo.isSafari&&(gcs(node).position=="absolute")&&(node.parentNode==db)){endNode=db}else{endNode=db.parentNode}if(node.parentNode!=db){var nd=node;if(dojo.isOpera||(dojo.isSafari>=5)){nd=db}ret.x-=_sumAncestorProperties(nd,"scrollLeft");ret.y-=_sumAncestorProperties(nd,"scrollTop")}var curnode=node;do{var n=curnode.offsetLeft;if(!dojo.isOpera||n>0){ret.x+=isNaN(n)?0:n}var m=curnode.offsetTop;ret.y+=isNaN(m)?0:m;curnode=curnode.offsetParent}while((curnode!=endNode)&&curnode)}else{if(node.x&&node.y){ret.x+=isNaN(node.x)?0:node.x;ret.y+=isNaN(node.y)?0:node.y}}}}if(hasScroll||includeScroll){var scroll=dojo._docScroll();var m=hasScroll?(!includeScroll?-1:0):1;ret.y+=m*scroll.y;ret.x+=m*scroll.x}return ret};dojo.coords=function(node,includeScroll){var n=dojo.byId(node),s=gcs(n),mb=dojo._getMarginBox(n,s);var abs=dojo._abs(n,includeScroll);mb.x=abs.x;mb.y=abs.y;return mb}})()}if(!dojo._hasResource["dojo._base.NodeList"]){dojo._hasResource["dojo._base.NodeList"]=true;dojo.provide("dojo._base.NodeList");(function(){var a=dojo;var b=function(c){c.constructor=dojo.NodeList;dojo._mixin(c,dojo.NodeList.prototype);return c};dojo.NodeList=function(){return b(Array.apply(null,arguments))};dojo.NodeList._wrap=b;dojo.extend(dojo.NodeList,{slice:function(){var c=dojo._toArray(arguments);return b(c.slice.apply(this,c))},splice:function(){var c=dojo._toArray(arguments);return b(c.splice.apply(this,c))},concat:function(){var c=dojo._toArray(arguments,0,[this]);return b(c.concat.apply([],c))},indexOf:function(d,c){return a.indexOf(this,d,c)},lastIndexOf:function(){return a.lastIndexOf.apply(a,a._toArray(arguments,0,[this]))},every:function(d,c){return a.every(this,d,c)},some:function(d,c){return a.some(this,d,c)},map:function(c,d){return a.map(this,c,d,a.NodeList)},forEach:function(d,c){a.forEach(this,d,c);return this},coords:function(){return a.map(this,a.coords)},style:function(){var d=a._toArray(arguments,0,[null]);var c=this.map(function(f){d[0]=f;return a.style.apply(a,d)});return(arguments.length>1)?this:c},styles:function(){a.deprecated("NodeList.styles","use NodeList.style instead","1.1");return this.style.apply(this,arguments)},addClass:function(c){this.forEach(function(d){a.addClass(d,c)});return this},removeClass:function(c){this.forEach(function(d){a.removeClass(d,c)});return this},place:function(f,d){var g=a.query(f)[0];d=d||"last";for(var c=0;c<this.length;c++){a.place(this[c],g,d)}return this},connect:function(c,d,f){this.forEach(function(g){a.connect(g,c,d,f)});return this},orphan:function(d){var c=(d)?a._filterQueryResult(this,d):this;c.forEach(function(f){if(f.parentNode){f.parentNode.removeChild(f)}});return c},adopt:function(d,c){var f=this[0];return a.query(d).forEach(function(g){a.place(g,f,(c||"last"))})},query:function(d){d=d||"";var c=a.NodeList();this.forEach(function(f){a.query(d,f).forEach(function(g){if(typeof g!="undefined"){c.push(g)}})});return c},filter:function(h){var c=this;var d=arguments;var g=a.NodeList();var f=function(i){if(typeof i!="undefined"){g.push(i)}};if(a.isString(h)){c=a._filterQueryResult(this,d[0]);if(d.length==1){return c}a.forEach(a.filter(c,d[1],d[2]),f);return g}a.forEach(a.filter(c,d[0],d[1]),f);return g},addContent:function(g,c){var d=a.doc.createElement("span");if(a.isString(g)){d.innerHTML=g}else{d.appendChild(g)}var f=((c=="first")||(c=="after"))?"lastChild":"firstChild";this.forEach(function(i){var h=d.cloneNode(true);while(h[f]){a.place(h[f],i,c)}});return this}});a.forEach(["blur","click","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup"],function(c){var d="on"+c;dojo.NodeList.prototype[d]=function(g,f){return this.connect(d,g,f)}})})()}if(!dojo._hasResource["dojo._base.query"]){dojo._hasResource["dojo._base.query"]=true;dojo.provide("dojo._base.query");(function(){var A=dojo;var k=dojo.isIE?"children":"childNodes";var w=function(N){if(N.charAt(N.length-1)==">"){N+=" *"}N+=" ";var H=function(ad,ae){return A.trim(N.slice(ad,ae))};var W=[];var O=-1;var L=-1;var U=-1;var ac=-1;var d=-1;var K=-1;var T=-1;var Y="";var X="";var M;var S=0;var I=N.length;var J=null;var ab=null;var R=function(){if(T>=0){var ad=(T==S)?null:H(T,S).toLowerCase();J[(">~+".indexOf(ad)<0)?"tag":"oper"]=ad;T=-1}};var aa=function(){if(K>=0){J.id=H(K,S).replace(/\\/g,"");K=-1}};var Q=function(){if(d>=0){J.classes.push(H(d+1,S).replace(/\\/g,""));d=-1}};var V=function(){aa();R();Q()};for(;S<I,Y=X,X=N.charAt(S);S++){if(Y=="\\"){continue}if(!J){M=S;J={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null};T=S}if(O>=0){if(X=="]"){if(!ab.attr){ab.attr=H(O+1,S)}else{ab.matchFor=H((U||O+1),S)}var Z=ab.matchFor;if(Z){if((Z.charAt(0)=='"')||(Z.charAt(0)=="'")){ab.matchFor=Z.substring(1,Z.length-1)}}J.attrs.push(ab);ab=null;O=U=-1}else{if(X=="="){var P=("|~^$*".indexOf(Y)>=0)?Y:"";ab.type=P+X;ab.attr=H(O+1,S-P.length);U=S+1}}}else{if(L>=0){if(X==")"){if(ac>=0){ab.value=H(L+1,S)}ac=L=-1}}else{if(X=="#"){V();K=S+1}else{if(X=="."){V();d=S}else{if(X==":"){V();ac=S}else{if(X=="["){V();O=S;ab={}}else{if(X=="("){if(ac>=0){ab={name:H(ac+1,S),value:null};J.pseudos.push(ab)}L=S}else{if(X==" "&&Y!=X){V();if(ac>=0){J.pseudos.push({name:H(ac+1,S)})}J.hasLoops=(J.pseudos.length||J.attrs.length||J.classes.length);J.query=H(M,S);J.tag=(J.oper)?null:(J.tag||"*");W.push(J);J=null}}}}}}}}}return W};var x={"*=":function(d,H){return"[contains(@"+d+", '"+H+"')]"},"^=":function(d,H){return"[starts-with(@"+d+", '"+H+"')]"},"$=":function(d,H){return"[substring(@"+d+", string-length(@"+d+")-"+(H.length-1)+")='"+H+"']"},"~=":function(d,H){return"[contains(concat(' ',@"+d+",' '), ' "+H+" ')]"},"|=":function(d,H){return"[contains(concat(' ',@"+d+",' '), ' "+H+"-')]"},"=":function(d,H){return"[@"+d+"='"+H+"']"}};var j=function(I,H,d,J){A.forEach(H.attrs,function(K){var L;if(K.type&&I[K.type]){L=I[K.type](K.attr,K.matchFor)}else{if(K.attr.length){L=d(K.attr)}}if(L){J(L)}})};var b=function(K){var H=".";var J=w(A.trim(K));while(J.length){var d=J.shift();var I;if(d.oper==">"){I="/";d=J.shift()}else{I="//"}H+=I+d.tag;if(d.id){H+="[@id='"+d.id+"'][1]"}A.forEach(d.classes,function(N){var L=N.length;var M=" ";if(N.charAt(L-1)=="*"){M="";N=N.substr(0,L-1)}H+="[contains(concat(' ',@class,' '), ' "+N+M+"')]"});j(x,d,function(L){return"[@"+L+"]"},function(L){H+=L})}return H};var o={};var p=function(J){if(o[J]){return o[J]}var I=A.doc;var d=b(J);var H=function(N){var M=[];var L;try{L=I.evaluate(d,N,null,XPathResult.ANY_TYPE,null)}catch(O){console.debug("failure in exprssion:",d,"under:",N);console.debug(O)}var K=L.iterateNext();while(K){M.push(K);K=L.iterateNext()}return M};return o[J]=H};var r={};var f={};var n=function(H,d){if(!H){return d}if(!d){return H}return function(){return H.apply(window,arguments)&&d.apply(window,arguments)}};var m=function(M,S,O,R){var I=R+1;var H=(S.length==I);var d=S[R];if(d.oper==">"){var P=M[k];if(!P||!P.length){return}I++;H=(S.length==I);var K=s(S[R+1]);for(var Q=0,J=P.length,L;Q<J,L=P[Q];Q++){if(K(L)){if(H){O.push(L)}else{m(L,S,O,I)}}}}var N=i(d)(M);if(H){while(N.length){O.push(N.shift())}}else{while(N.length){m(N.shift(),S,O,I)}}};var q=function(J,I){var H=[];var d=J.length-1,K;while(K=J[d--]){m(K,I,H,0)}return H};var s=function(H){if(r[H.query]){return r[H.query]}var d=null;if(H.tag){if(H.tag=="*"){d=n(d,function(I){return(I.nodeType==1)})}else{d=n(d,function(I){return((I.nodeType==1)&&(H.tag==I.tagName.toLowerCase()))})}}if(H.id){d=n(d,function(I){return((I.nodeType==1)&&(I.id==H.id))})}if(H.hasLoops){d=n(d,g(H))}return r[H.query]=d};var a=function(M){var K=M.parentNode;var J=K.childNodes;var H=-1;var N=K.firstChild;if(!N){return H}var L=M.__cachedIndex;var I=K.__cachedLength;if(((typeof I=="number")&&(I!=J.length))||(typeof L!="number")){K.__cachedLength=J.length;var d=1;do{if(N===M){H=d}if(N.nodeType==1){N.__cachedIndex=d;d++}N=N.nextSibling}while(N)}else{H=L}return H};var C=0;var l="";var c=function(H,d){if(d=="class"){return H.className||l}if(d=="for"){return H.htmlFor||l}return H.getAttribute(d,2)||l};var v={"*=":function(d,H){return function(I){return(c(I,d).indexOf(H)>=0)}},"^=":function(d,H){return function(I){return(c(I,d).indexOf(H)==0)}},"$=":function(d,I){var H=" "+I;return function(K){var J=" "+c(K,d);return(J.lastIndexOf(I)==(J.length-I.length))}},"~=":function(d,I){var H=" "+I+" ";return function(K){var J=" "+c(K,d)+" ";return(J.indexOf(H)>=0)}},"|=":function(d,I){var H=" "+I+"-";return function(K){var J=" "+(K.getAttribute(d,2)||"");return((J==I)||(J.indexOf(H)==0))}},"=":function(d,H){return function(I){return(c(I,d)==H)}}};var h={"first-child":function(d,H){return function(J){if(J.nodeType!=1){return false}var I=J.previousSibling;while(I&&(I.nodeType!=1)){I=I.previousSibling}return(!I)}},"last-child":function(d,H){return function(I){if(I.nodeType!=1){return false}var J=I.nextSibling;while(J&&(J.nodeType!=1)){J=J.nextSibling}return(!J)}},empty:function(d,H){return function(L){var M=L.childNodes;var J=L.childNodes.length;for(var I=J-1;I>=0;I--){var K=M[I].nodeType;if((K==1)||(K==3)){return false}}return true}},not:function(d,I){var H=s(w(I)[0]);return function(J){return(!H(J))}},"nth-child":function(I,M){var L=parseInt;if(M=="odd"){return function(N){return(((a(N))%2)==1)}}else{if((M=="2n")||(M=="even")){return function(N){return((a(N)%2)==0)}}else{if(M.indexOf("0n+")==0){var K=L(M.substr(3));return function(N){return(N.parentNode[k][K-1]===N)}}else{if((M.indexOf("n+")>0)&&(M.length>3)){var J=M.split("n+",2);var H=L(J[0]);var d=L(J[1]);return function(N){return((a(N)%H)==d)}}else{if(M.indexOf("n")==-1){var K=L(M);return function(N){return(a(N)==K)}}}}}}}};var B=(A.isIE)?function(d){var H=d.toLowerCase();return function(I){return I[d]||I[H]}}:function(d){return function(H){return(H&&H.getAttribute&&H.hasAttribute(d))}};var g=function(H){var I=(f[H.query]||r[H.query]);if(I){return I}var d=null;if(H.id){if(H.tag!="*"){d=n(d,function(J){return(J.tagName.toLowerCase()==H.tag)})}}A.forEach(H.classes,function(L,K,J){var N=L.charAt(L.length-1)=="*";if(N){L=L.substr(0,L.length-1)}var M=new RegExp("(?:^|\\s)"+L+(N?".*":"")+"(?:\\s|$)");d=n(d,function(O){return M.test(O.className)});d.count=K});A.forEach(H.pseudos,function(J){if(h[J.name]){d=n(d,h[J.name](J.name,J.value))}});j(v,H,B,function(J){d=n(d,J)});if(!d){d=function(){return true}}return f[H.query]=d};var G={};var i=function(K,d){var H=G[K.query];if(H){return H}if(K.id&&!K.hasLoops&&!K.tag){return G[K.query]=function(M){return[A.byId(K.id)]}}var J=g(K);var L;if(K.tag&&K.id&&!K.hasLoops){L=function(M){var N=A.byId(K.id);if(J(N)){return[N]}}}else{var I;if(!K.hasLoops){L=function(N){var O=[];var Q,M=0,P=N.getElementsByTagName(K.tag);while(Q=P[M++]){O.push(Q)}return O}}else{L=function(N){var O=[];var Q,M=0,P=N.getElementsByTagName(K.tag);while(Q=P[M++]){if(J(Q)){O.push(Q)}}return O}}}return G[K.query]=L};var y={};var u={"*":A.isIE?function(d){return d.all}:function(d){return d.getElementsByTagName("*")},">":function(H){var I=[];var K,d=0,J=H[k];while(K=J[d++]){if(K.nodeType==1){I.push(K)}}return I}};var E=function(J){var I=w(A.trim(J));if(I.length==1){var H=i(I[0]);H.nozip=true;return H}var d=function(K){var L=I.slice(0);var M;if(L[0].oper==">"){M=[K]}else{M=i(L.shift())(K)}return q(M,L)};return d};var D=((document.evaluate&&!A.isSafari)?function(H){var d=H.split(" ");if((document.evaluate)&&(H.indexOf(":")==-1)&&((true))){if(((d.length>2)&&(H.indexOf(">")==-1))||(d.length>3)||(H.indexOf("[")>=0)||((1==d.length)&&(0<=H.indexOf(".")))){return p(H)}}return E(H)}:E);var t=function(d){if(u[d]){return u[d]}if(0>d.indexOf(",")){return u[d]=D(d)}else{var I=d.split(/\s*,\s*/);var H=function(J){var L=0;var K=[];var M;while(M=I[L++]){K=K.concat(D(M,M.indexOf(" "))(J))}return K};return u[d]=H}};var z=0;var F=function(H){if(H&&H.nozip){return A.NodeList._wrap(H)}var I=new A.NodeList();if(!H){return I}if(H[0]){I.push(H[0])}if(H.length<2){return I}z++;H[0]["_zipIdx"]=z;for(var d=1,J;J=H[d];d++){if(H[d]["_zipIdx"]!=z){I.push(J)}J._zipIdx=z}return I};A.query=function(H,d){if(H.constructor==A.NodeList){return H}if(!A.isString(H)){return new A.NodeList(H)}if(A.isString(d)){d=A.byId(d)}return F(t(H)(d||A.doc))};A._filterQueryResult=function(I,J){var L=new A.NodeList();var H=(J)?s(w(J)[0]):function(){return true};for(var d=0,K;K=I[d];d++){if(H(K)){L.push(K)}}return L}})()}if(!dojo._hasResource["dojo._base.xhr"]){dojo._hasResource["dojo._base.xhr"]=true;dojo.provide("dojo._base.xhr");(function(){var _d=dojo;function setValue(obj,name,value){var val=obj[name];if(_d.isString(val)){obj[name]=[val,value]}else{if(_d.isArray(val)){val.push(value)}else{obj[name]=value}}}dojo.formToObject=function(formNode){var ret={};var iq="input:not([type=file]):not([type=submit]):not([type=image]):not([type=reset]):not([type=button]), select, textarea";_d.query(iq,formNode).filter(function(node){return(!node.disabled)}).forEach(function(item){var _in=item.name;var type=(item.type||"").toLowerCase();if(type=="radio"||type=="checkbox"){if(item.checked){setValue(ret,_in,item.value)}}else{if(item.multiple){ret[_in]=[];_d.query("option",item).forEach(function(opt){if(opt.selected){setValue(ret,_in,opt.value)}})}else{setValue(ret,_in,item.value);if(type=="image"){ret[_in+".x"]=ret[_in+".y"]=ret[_in].x=ret[_in].y=0}}}});return ret};dojo.objectToQuery=function(map){var ec=encodeURIComponent;var ret="";var backstop={};for(var x in map){if(map[x]!=backstop[x]){if(_d.isArray(map[x])){for(var y=0;y<map[x].length;y++){ret+=ec(x)+"="+ec(map[x][y])+"&"}}else{ret+=ec(x)+"="+ec(map[x])+"&"}}}if(ret.length&&ret.charAt(ret.length-1)=="&"){ret=ret.substr(0,ret.length-1)}return ret};dojo.formToQuery=function(formNode){return _d.objectToQuery(_d.formToObject(formNode))};dojo.formToJson=function(formNode,prettyPrint){return _d.toJson(_d.formToObject(formNode),prettyPrint)};dojo.queryToObject=function(str){var ret={};var qp=str.split("&");var dc=decodeURIComponent;_d.forEach(qp,function(item){if(item.length){var parts=item.split("=");var name=dc(parts.shift());var val=dc(parts.join("="));if(_d.isString(ret[name])){ret[name]=[ret[name]]}if(_d.isArray(ret[name])){ret[name].push(val)}else{ret[name]=val}}});return ret};dojo._blockAsync=false;dojo._contentHandlers={text:function(xhr){return xhr.responseText},json:function(xhr){if(!djConfig.usePlainJson){console.debug("Consider using mimetype:text/json-comment-filtered to avoid potential security issues with JSON endpoints (use djConfig.usePlainJson=true to turn off this message)")}return _d.fromJson(xhr.responseText)},"json-comment-filtered":function(xhr){var value=xhr.responseText;var cStartIdx=value.indexOf("/*");var cEndIdx=value.lastIndexOf("*/");if(cStartIdx==-1||cEndIdx==-1){throw new Error("JSON was not comment filtered")}return _d.fromJson(value.substring(cStartIdx+2,cEndIdx))},javascript:function(xhr){return _d.eval(xhr.responseText)},xml:function(xhr){if(_d.isIE&&!xhr.responseXML){_d.forEach(["MSXML2","Microsoft","MSXML","MSXML3"],function(i){try{var doc=new ActiveXObject(prefixes[i]+".XMLDOM");doc.async=false;doc.loadXML(xhr.responseText);return doc}catch(e){}})}else{return xhr.responseXML}}};dojo._contentHandlers["json-comment-optional"]=function(xhr){var handlers=_d._contentHandlers;try{return handlers["json-comment-filtered"](xhr)}catch(e){return handlers.json(xhr)}};dojo._ioSetArgs=function(args,canceller,okHandler,errHandler){var ioArgs={args:args,url:args.url};var formObject=null;if(args.form){var form=_d.byId(args.form);var actnNode=form.getAttributeNode("action");ioArgs.url=ioArgs.url||(actnNode?actnNode.value:null);formObject=_d.formToObject(form)}var miArgs=[{}];if(formObject){miArgs.push(formObject)}if(args.content){miArgs.push(args.content)}if(args.preventCache){miArgs.push({"dojo.preventCache":new Date().valueOf()})}ioArgs.query=_d.objectToQuery(_d.mixin.apply(null,miArgs));ioArgs.handleAs=args.handleAs||"text";var d=new _d.Deferred(canceller);d.addCallbacks(okHandler,function(error){return errHandler(error,d)});var ld=args.load;if(ld&&_d.isFunction(ld)){d.addCallback(function(value){return ld.call(args,value,ioArgs)})}var err=args.error;if(err&&_d.isFunction(err)){d.addErrback(function(value){return err.call(args,value,ioArgs)})}var handle=args.handle;if(handle&&_d.isFunction(handle)){d.addBoth(function(value){return handle.call(args,value,ioArgs)})}d.ioArgs=ioArgs;return d};var _deferredCancel=function(dfd){dfd.canceled=true;var xhr=dfd.ioArgs.xhr;var _at=(typeof xhr.abort);if((_at=="function")||(_at=="unknown")){xhr.abort()}var err=new Error("xhr cancelled");err.dojoType="cancel";return err};var _deferredOk=function(dfd){return _d._contentHandlers[dfd.ioArgs.handleAs](dfd.ioArgs.xhr)};var _deferError=function(error,dfd){console.debug(error);return error};var _makeXhrDeferred=function(args){var dfd=_d._ioSetArgs(args,_deferredCancel,_deferredOk,_deferError);dfd.ioArgs.xhr=_d._xhrObj(dfd.ioArgs.args);return dfd};var _inFlightIntvl=null;var _inFlight=[];var _watchInFlight=function(){var now=(new Date()).getTime();if(!_d._blockAsync){for(var i=0,tif;(i<_inFlight.length)&&(tif=_inFlight[i]);i++){var dfd=tif.dfd;try{if(!dfd||dfd.canceled||!tif.validCheck(dfd)){_inFlight.splice(i--,1)}else{if(tif.ioCheck(dfd)){_inFlight.splice(i--,1);tif.resHandle(dfd)}else{if(dfd.startTime){if(dfd.startTime+(dfd.ioArgs.args.timeout||0)<now){_inFlight.splice(i--,1);var err=new Error("timeout exceeded");err.dojoType="timeout";dfd.errback(err);dfd.cancel()}}}}}catch(e){console.debug(e);dfd.errback(new Error("_watchInFlightError!"))}}}if(!_inFlight.length){clearInterval(_inFlightIntvl);_inFlightIntvl=null;return}};dojo._ioCancelAll=function(){try{_d.forEach(_inFlight,function(i){i.dfd.cancel()})}catch(e){}};if(_d.isIE){_d.addOnUnload(_d._ioCancelAll)}_d._ioWatch=function(dfd,validCheck,ioCheck,resHandle){if(dfd.ioArgs.args.timeout){dfd.startTime=(new Date()).getTime()}_inFlight.push({dfd:dfd,validCheck:validCheck,ioCheck:ioCheck,resHandle:resHandle});if(!_inFlightIntvl){_inFlightIntvl=setInterval(_watchInFlight,50)}_watchInFlight()};var _defaultContentType="application/x-www-form-urlencoded";var _validCheck=function(dfd){return dfd.ioArgs.xhr.readyState};var _ioCheck=function(dfd){return 4==dfd.ioArgs.xhr.readyState};var _resHandle=function(dfd){if(_d._isDocumentOk(dfd.ioArgs.xhr)){dfd.callback(dfd)}else{dfd.errback(new Error("bad http response code:"+dfd.ioArgs.xhr.status))}};var _doIt=function(type,dfd){var ioArgs=dfd.ioArgs;var args=ioArgs.args;ioArgs.xhr.open(type,ioArgs.url,args.sync!==true,args.user||undefined,args.password||undefined);if(args.headers){for(var hdr in args.headers){if(hdr.toLowerCase()==="content-type"&&!args.contentType){args.contentType=args.headers[hdr]}else{ioArgs.xhr.setRequestHeader(hdr,args.headers[hdr])}}}ioArgs.xhr.setRequestHeader("Content-Type",(args.contentType||_defaultContentType));try{ioArgs.xhr.send(ioArgs.query)}catch(e){dfd.cancel()}_d._ioWatch(dfd,_validCheck,_ioCheck,_resHandle);return dfd};dojo._ioAddQueryToUrl=function(ioArgs){if(ioArgs.query.length){ioArgs.url+=(ioArgs.url.indexOf("?")==-1?"?":"&")+ioArgs.query;ioArgs.query=null}};dojo.xhrGet=function(args){var dfd=_makeXhrDeferred(args);_d._ioAddQueryToUrl(dfd.ioArgs);return _doIt("GET",dfd)};dojo.xhrPost=function(args){return _doIt("POST",_makeXhrDeferred(args))};dojo.rawXhrPost=function(args){var dfd=_makeXhrDeferred(args);dfd.ioArgs.query=args.postData;return _doIt("POST",dfd)};dojo.xhrPut=function(args){return _doIt("PUT",_makeXhrDeferred(args))};dojo.rawXhrPut=function(args){var dfd=_makeXhrDeferred(args);var ioArgs=dfd.ioArgs;if(args.putData){ioArgs.query=args.putData;args.putData=null}return _doIt("PUT",dfd)};dojo.xhrDelete=function(args){var dfd=_makeXhrDeferred(args);_d._ioAddQueryToUrl(dfd.ioArgs);return _doIt("DELETE",dfd)}})()}if(!dojo._hasResource["dojo._base.fx"]){dojo._hasResource["dojo._base.fx"]=true;dojo.provide("dojo._base.fx")};